<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>.eunit/flex_msg_v1.COVER.html</title>
</head><body style='background-color: white; color: black'>
<pre>
File generated from /root/play/openflow/flex_msg/apps/flex_msg_v1/.eunit/flex_msg_v1.erl by COVER 2015-01-04 at 15:03:19

****************************************************************************

        |  -module(flex_msg_v1).
        |  
        |  -export([encode/1, decode/1]).
        |  -export([prepend_of_header/2]).
        |  -export([hello/0,
        |           openflow_error/3,
        |           echo_request/1,
        |           echo_reply/1,
        |           barrier/0,
        |           vendor/2,
        |           get_features/0,
        |           get_config/0,
        |           set_config/2,
        |           send_packet/2,
        |           add_flow/6,
        |           add_flow/7,
        |           modify_flow/6,
        |           modify_flow/7,
        |           delete_flow/3,
        |           set_port_up/2,
        |           set_port_down/2,
        |           set_port_packet_in/2,
        |           set_port_no_packet_in/2,
        |           set_port_modes/3,
        |           get_queue_config/1,
        |           get_switch_description/0,
        |           get_flow_stats/2,
        |           get_aggregate_stats/2,
        |           get_table_stats/0,
        |           get_port_stats_all/0,
        |           get_port_stats/1]).
        |  
        |  -include("ofp_v1.hrl").
        |  
        |  encode(Message) -&gt;
    32..|      try
    32..|          flex_msg_v1_encode:do(Message)
        |      catch
        |          _:Exception -&gt;
<font color=red>     0..|              { error, Exception }</font>
        |      end.
        |  
        |  decode(Binary) -&gt;
    32..|      try
    32..|          flex_msg_v1_decode:do(Binary)
        |      catch
        |          _:Exception -&gt;
<font color=red>     0..|              { error, Exception }</font>
        |      end.
        |  
        |  prepend_of_header(Xid, #ofp_hello{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = hello, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_error_msg{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = error, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_echo_request{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = echo_request, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_echo_reply{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = echo_reply, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_vendor_header{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = vendor, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_features_request{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = features_request, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_get_config_request{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = get_config_request, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_switch_config{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = set_config, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_packet_out{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = packet_out, xid = Xid,  body = Body };</font>
        |  prepend_of_header(Xid, #ofp_flow_mod{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = flow_mod, xid = Xid,  body = Body };</font>
        |  prepend_of_header(Xid, #ofp_port_mod{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = port_mod, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_barrier_request{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = barrier_request, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_queue_get_config_request{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = queue_get_config_request, xid = Xid, body = Body };</font>
        |  prepend_of_header(Xid, #ofp_stats_request{} = Body) -&gt;
<font color=red>     0..|      #ofp_header{ type = stats_request, xid = Xid, body = Body }.</font>
        |  
        |  hello() -&gt;
     1..|      #ofp_hello{}.
        |  
        |  openflow_error(Type, Code, Data) -&gt;
     1..|      #ofp_error_msg{ type = Type, code = Code, data = Data }.
        |  
        |  echo_request(Data) -&gt;
     1..|      #ofp_echo_request{ data = Data }.
        |  
        |  echo_reply(Data) -&gt;
     1..|      #ofp_echo_reply{ data = Data }.
        |  
        |  barrier() -&gt;
     1..|      #ofp_barrier_request{}.
        |  
        |  vendor(Vendor, Data) -&gt;
     1..|      #ofp_vendor_header{ vendor = Vendor, data = Data }.
        |  
        |  get_features() -&gt;
     1..|      #ofp_features_request{}.
        |  
        |  get_config() -&gt;
     1..|      #ofp_get_config_request{}.
        |  
        |  set_config(Flags, MissSendLen) -&gt;
     1..|      #ofp_switch_config{ flags = Flags, miss_send_len = MissSendLen }.
        |  
        |  send_packet(Data, Actions) -&gt;
     1..|      #ofp_packet_out{ buffer_id = no_buffer,
        |                       in_port = none,
        |                       actions = create_actions(Actions),
        |                       data = Data }.
        |  
        |  add_flow(Cookie, Priority, Idle, Hard, Matches, Actions) -&gt;
     1..|      #ofp_flow_mod{ match = create_matches(Matches),
        |                     cookie = Cookie,
        |                     priority = Priority,
        |                     idle_timeout = Idle,
        |                     hard_timeout = Hard,
        |                     command = add,
        |                     flags = [send_flow_rem],
        |                     actions = create_actions(Actions) }.
        |  
        |  add_flow(Cookie, Priority, Idle, Hard, Matches, Actions, Flags) -&gt;
<font color=red>     0..|      #ofp_flow_mod{ match = create_matches(Matches),</font>
        |                     priority = Priority,
        |                     idle_timeout = Idle,
        |                     hard_timeout = Hard,
        |                     cookie = Cookie,
        |                     command = add,
        |                     flags = Flags,
        |                     actions = create_actions(Actions) }.
        |  
        |  modify_flow(Cookie, Priority, Idle, Hard, Matches, Actions) -&gt;
     1..|      #ofp_flow_mod{ match = create_matches(Matches),
        |                     cookie = Cookie,
        |                     priority = Priority,
        |                     idle_timeout = Idle,
        |                     hard_timeout = Hard,
        |                     command = modify,
        |                     flags = [send_flow_rem],
        |                     actions = create_actions(Actions) }.
        |  
        |  modify_flow(Cookie, Priority, Idle, Hard, Matches, Actions, Flags) -&gt;
<font color=red>     0..|      #ofp_flow_mod{ match = create_matches(Matches),</font>
        |                     priority = Priority,
        |                     idle_timeout = Idle,
        |                     hard_timeout = Hard,
        |                     cookie = Cookie,
        |                     command = modify,
        |                     flags = Flags,
        |                     actions = create_actions(Actions) }.
        |  
        |  delete_flow(Cookie, Matches, OutPort) -&gt;
     1..|      #ofp_flow_mod{ match = create_matches(Matches),
        |                     cookie = Cookie,
        |                     command = delete,
        |                     out_port = OutPort }.
        |  
        |  set_port_up(PortNo, HwAddr) -&gt;
     1..|      #ofp_port_mod{ port_no = PortNo,
        |                     hw_addr = HwAddr,
        |                     config = [],
        |                     mask = [port_down]}.
        |  
        |  set_port_down(PortNo, HwAddr) -&gt;
     1..|      #ofp_port_mod{ port_no = PortNo,
        |                     hw_addr = HwAddr,
        |                     config = [port_down],
        |                     mask = [port_down]}.
        |  
        |  set_port_packet_in(PortNo, HwAddr) -&gt;
     1..|      #ofp_port_mod{ port_no = PortNo,
        |                     hw_addr = HwAddr,
        |                     config = [],
        |                     mask = [no_packet_in]}.
        |  
        |  set_port_no_packet_in(PortNo, HwAddr) -&gt;
     1..|      #ofp_port_mod{ port_no = PortNo,
        |                     hw_addr = HwAddr,
        |                     config = [no_packet_in],
        |                     mask = [no_packet_in]}.
        |  
        |  set_port_modes(PortNo, HwAddr, Modes) -&gt;
     1..|      #ofp_port_mod{ port_no = PortNo,
        |                     hw_addr = HwAddr,
        |                     config = [],
        |                     mask = [],
        |                     advertised = Modes }.
        |  
        |  get_queue_config(PortNo) -&gt;
     1..|      #ofp_queue_get_config_request{ port_no = PortNo }.
        |  
        |  get_switch_description() -&gt;
     1..|      #ofp_stats_request{ type = desc, flags = [],
        |                          body = #ofp_desc_stats_request{} }.
        |  
        |  get_flow_stats(Matches, TableId) -&gt;
     1..|      Body = #ofp_flow_stats_request{ match = create_matches(Matches),
        |                                      table_id = TableId },
     1..|      #ofp_stats_request{ type = flow, body = Body }.
        |  
        |  get_aggregate_stats(Matches, TableId) -&gt;
     1..|      Body = #ofp_aggregate_stats_request{ match = create_matches(Matches),
        |                                           table_id = TableId },
     1..|      #ofp_stats_request{ type = aggregate, body = Body }.
        |  
        |  get_table_stats() -&gt;
     1..|      #ofp_stats_request{ type = table, body = #ofp_table_stats_request{} }.
        |  
        |  get_port_stats_all() -&gt;
     1..|      #ofp_stats_request{ type = port, body = #ofp_port_stats_request{ port_no = none }}.
        |  
        |  get_port_stats(PortNo) -&gt;
     1..|      #ofp_stats_request{ type = port, body = #ofp_port_stats_request{ port_no = PortNo }}.
        |  
        |  %%%-----------------------------------------------------------------------------
        |  %%% Internal functions
        |  %%%-----------------------------------------------------------------------------
        |  
     5..|  create_matches(Matches) -&gt; create_matches(Matches, #ofp_match{}).
        |  
     5..|  create_matches([], EncMatches) -&gt; EncMatches;
        |  create_matches([Match | Rest], EncMatches) -&gt;
    60..|      EncMatches2 = create_match(EncMatches, Match),
    60..|      create_matches(Rest, EncMatches2).
        |  
        |  create_match(Match, { in_port, InPort }) -&gt;
     5..|      Match#ofp_match{ in_port = InPort };
        |  create_match(Match, { dl_src, DlSrc }) -&gt;
     5..|      Match#ofp_match{ dl_src = DlSrc };
        |  create_match(Match, { dl_dst, DlDst }) -&gt;
     5..|      Match#ofp_match{ dl_dst = DlDst };
        |  create_match(Match, { dl_vlan, DlVlan }) -&gt;
     5..|      Match#ofp_match{ dl_vlan = DlVlan };
        |  create_match(Match, { dl_vlan_pcp, DlVlanPcp }) -&gt;
     5..|      Match#ofp_match{ dl_vlan_pcp = DlVlanPcp };
        |  create_match(Match, { dl_type, DlType }) -&gt;
     5..|      Match#ofp_match{ dl_type = DlType };
        |  create_match(Match, { nw_tos, NwTos }) -&gt;
     5..|      Match#ofp_match{ nw_tos = NwTos };
        |  create_match(Match, { nw_proto, NwProto }) -&gt;
     5..|      Match#ofp_match{ nw_proto = NwProto };
        |  create_match(Match, { nw_src, NwAddr, NwAddrMask }) -&gt;
     5..|      Match#ofp_match{ nw_src = NwAddr, nw_src_mask = NwAddrMask };
        |  create_match(Match, { nw_dst, NwAddr, NwAddrMask }) -&gt;
     5..|      Match#ofp_match{ nw_dst = NwAddr, nw_dst_mask = NwAddrMask };
        |  create_match(Match, { tp_src, TpSrc }) -&gt;
     5..|      Match#ofp_match{ tp_src = TpSrc };
        |  create_match(Match, { tp_dst, TpDst }) -&gt;
     5..|      Match#ofp_match{ tp_dst = TpDst }.
        |  
     3..|  create_actions(Actions) -&gt; create_actions(Actions, []).
        |  
     3..|  create_actions([], EncActions) -&gt; lists:reverse(EncActions);
        |  create_actions([Action | Rest], EncActions) -&gt;
    39..|      EncAction = create_action(Action),
    39..|      create_actions(Rest, [EncAction | EncActions]).
        |  
        |  create_action({ send_out_port,  PortNo, MaxLen }) -&gt;
     3..|      Body = #ofp_action_output{ port = PortNo, max_len = MaxLen },
     3..|      #ofp_action_header{ type = output, body = Body };
        |  create_action({ set_vlan_vid, VlanVID }) -&gt;
     3..|      Body = #ofp_action_vlan_vid{ vlan_vid = VlanVID },
     3..|      #ofp_action_header{ type = set_vlan_vid, body = Body };
        |  create_action({ set_vlan_priority, VlanPcp }) -&gt;
     3..|      Body = #ofp_action_vlan_pcp{ vlan_pcp = VlanPcp },
     3..|      #ofp_action_header{ type = set_vlan_pcp, body = Body };
        |  create_action({ strip_vlan_header }) -&gt;
     3..|      Body = #ofp_action_strip_vlan{},
     3..|      #ofp_action_header{ type = strip_vlan, body = Body };
        |  create_action({ set_eth_src_addr, DlAddr }) -&gt;
     3..|      Body = #ofp_action_dl_addr{ dl_addr = DlAddr },
     3..|      #ofp_action_header{ type = set_dl_src, body = Body };
        |  create_action({ set_eth_dst_addr, DlAddr }) -&gt;
     3..|      Body = #ofp_action_dl_addr{ dl_addr = DlAddr },
     3..|      #ofp_action_header{ type = set_dl_dst, body = Body };
        |  create_action({ set_ip_src_addr, NwAddr }) -&gt;
     3..|      Body = #ofp_action_nw_addr{ nw_addr = NwAddr },
     3..|      #ofp_action_header{ type = set_nw_src, body = Body };
        |  create_action({ set_ip_dst_addr, NwAddr }) -&gt;
     3..|      Body = #ofp_action_nw_addr{ nw_addr = NwAddr },
     3..|      #ofp_action_header{ type = set_nw_dst, body = Body };
        |  create_action({ set_ip_tos, NwTos }) -&gt;
     3..|      Body = #ofp_action_nw_tos{ nw_tos = NwTos },
     3..|      #ofp_action_header{ type = set_nw_tos, body = Body };
        |  create_action({ set_transport_src_port, TpPort }) -&gt;
     3..|      Body = #ofp_action_tp_port{ tp_port = TpPort },
     3..|      #ofp_action_header{ type = set_tp_src, body = Body };
        |  create_action({ set_transport_dst_port, TpPort }) -&gt;
     3..|      Body = #ofp_action_tp_port{ tp_port = TpPort },
     3..|      #ofp_action_header{ type = set_tp_dst, body = Body };
        |  create_action({ enqueue, Port, QueueID }) -&gt;
     3..|      Body = #ofp_action_enqueue{ port = Port, queue_id = QueueID },
     3..|      #ofp_action_header{ type = enqueue, body = Body };
        |  create_action({ vendor_action, Vendor }) -&gt;
     3..|      Body = #ofp_action_vendor{ vendor = Vendor },
     3..|      #ofp_action_header{ type = vendor, body = Body }.
</pre>
</body>
</html>
